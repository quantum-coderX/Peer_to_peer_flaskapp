{% extends "layout.html" %}

{% block title %}New Post{% endblock %}

{% block content %}
  <style>
    /* Scoped styles for new post page */
    .page-card {
      max-width: 720px;
      margin: 0 auto;
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 6px 16px rgba(0,0,0,.06);
    }
    .muted { color: #6b7280; font-size: .9rem; }
    .btn-primary {
      background: #2563eb;
      border: none;
      color: #fff;
      padding: .5rem .9rem;
      border-radius: .5rem;
      transition: filter .15s ease, transform .05s ease;
    }
    .btn-primary:hover { filter: brightness(1.1); }
    .btn-link { color: #2563eb; text-decoration: none; padding: .5rem .25rem; }
    .btn-link:hover { text-decoration: underline; }
    .form-group { margin-bottom: 1rem; }
  </style>

  <div class="page-card">
    <h2 style="margin-top:0;">Create a New Post</h2>
    <form method="POST" action="">
      {{ form.hidden_tag() }}   {# CSRF #}

      <div class="form-group">
        {{ form.title.label }}
        {{ form.title(class="form-control") }}
        {% if form.title.errors %}
          <div class="error muted">
            {% for error in form.title.errors %}
              <span>{{ error }}</span>
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <div class="form-group">
        {{ form.content.label }}
        {{ form.content(class="form-control", rows="6") }}
        {% if form.content.errors %}
          <div class="error muted">
            {% for error in form.content.errors %}
              <span>{{ error }}</span>
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <div class="form-group" style="display:flex; gap:.5rem;">
        {{ form.submit(class="btn btn-primary") }}
        <a href="{{ url_for('community') }}" class="btn btn-link">Cancel</a>
      </div>
    </form>
  </div>
{% endblock %}